<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Landscape Projects Report - 2025</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      font-family: "Tahoma", Arial, sans-serif;
      line-height: 1.6;
      padding: 20px;
      background: #f0eeee;
    }

    h2 {
      text-align: center;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 40px;
      background: #fff;
    }

    th,
    td {
      border: 1px solid #000;
      padding: 8px;
      text-align: center;
      vertical-align: middle;
    }

    th {
      background: var(--accent-light);
      /* background: #bebebd; */
    }

    .gallery-thumbnail {
      cursor: pointer;
      border-radius: 4px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      object-fit: cover;
    }

    .gallery-thumbnail:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    /* Fullscreen popup */
    .popup-overlay {
      display: none;
      /* Hidden by default */
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.9);
      z-index: 10000;
      justify-content: center;
      align-items: center;
    }

    .main-image {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
      border-radius: 8px;
    }

    .nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: none;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
    }

    .nav-arrow:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .nav-arrow.prev {
      left: 30px;
    }

    .nav-arrow.next {
      right: 30px;
    }

    .close-btn {
      position: absolute;
      top: 20px;
      right: 30px;
      background: rgba(255, 68, 68, 0.8);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 50px;
      font-size: 18px;
      cursor: pointer;
    }

    .close-btn:hover {
      background: rgba(255, 68, 68, 1);
    }
  </style>
  <script>
    // Listen for theme changes from parent
    window.addEventListener('message', (event) => {
      if (event.data.type === 'theme-change') {
        document.documentElement.setAttribute('data-theme', event.data.theme);
        localStorage.setItem('theme', event.data.theme);
      }
    });

    // Request theme on load
    window.addEventListener('DOMContentLoaded', () => {
      window.parent.postMessage({ type: 'request-theme' }, '*');
    });
  </script>
</head>

<body>

  <div class="year-container">
    <table>
      <thead>
        <tr>
          <th>No.</th>
          <th colspan="2">Images</th>
          <th>Location</th>
          <th>Action</th>
          <th>Total Area</th>
          <th>Previous Condition</th>
          <th>Current Condition</th>
          <th>Green Area</th>
          <th>No. of Ornamental Trees</th>
          <th>Additional Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td colspan="2">
            <img src="images/row1-1.jpg" class="gallery-thumbnail" data-gallery="row1" width="100" height="100">
          </td>
          <td>Buildings S40, S41, S50, S51</td>
          <td>Maintenance and replanting of landscape basins</td>
          <td>6,835 m²</td>
          <td>Previously: neglected basins lacking ornamental planting</td>
          <td>Re-landscaped with structured planting</td>
          <td>—</td>
          <td>80</td>
          <td>Expanded ornamental planting with roses and flowering species</td>
        </tr>
        <tr>
          <td>2</td>
          <td colspan="2">
            <img src="images/row2-1.jpg" class="gallery-thumbnail" data-gallery="row2" width="100" height="100">
          </td>
          <td>Behind University Swimming Pool (S38)</td>
          <td>Rehabilitation of neglected landscape area</td>
          <td>1,000 m²</td>
          <td>Previously: degraded by weeds, random trees, and waste</td>
          <td>Site fully rehabilitated</td>
          <td>—</td>
          <td>—</td>
          <td>Transformed into a functional green space</td>
        </tr>
        <tr>
          <td>3</td>
          <td colspan="2">
            <img src="images/row3-1.jpg" class="gallery-thumbnail" data-gallery="row3" width="100" height="100">
          </td>
          <td>In front of Building S45</td>
          <td>Landscape redevelopment and rehabilitation</td>
          <td>800 m²</td>
          <td>Previously: dead trees, harmful weeds</td>
          <td>Site cleared, re-landscaped</td>
          <td>—</td>
          <td>—</td>
          <td>Improved the building’s frontage landscape</td>
        </tr>
        <tr>
          <td>4</td>
          <td colspan="2">
            <img src="images/row4-1.jpg" class="gallery-thumbnail" data-gallery="row4" width="100" height="100">
          </td>
          <td>From behind College of Arts to Deanship of Student Affairs</td>
          <td>Large-scale landscape rehabilitation</td>
          <td>3,000 m²</td>
          <td>Previously: random and unsuitable trees</td>
          <td>Phase I: clearing, Phase II: planting over 300 trees</td>
          <td>—</td>
          <td>—</td>
          <td>Multi-phase project to enhance biodiversity</td>
        </tr>
        <tr>
          <td>5</td>
          <td colspan="2">
            <img src="images/row5-1.jpg" class="gallery-thumbnail" data-gallery="row5" width="100" height="100">
          </td>
          <td>Hill Area behind Main Road</td>
          <td>Rehabilitation and replanting of hillside landscape</td>
          <td>1,200 m²</td>
          <td>Previously: neglected area with invasive trees</td>
          <td>Area cleared, re-landscaped with shading and ornamental trees</td>
          <td>—</td>
          <td>350</td>
          <td>Created a natural green hill enhancing entrance landscape</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Fullscreen popup -->
  <div id="galleryPopup" class="popup-overlay">
    <button class="close-btn" onclick="closeGallery()">✕</button>
    <button class="nav-arrow prev" onclick="previousImage()">‹</button>
    <img id="mainImage" class="main-image" src="">
    <button class="nav-arrow next" onclick="nextImage()">›</button>
  </div>

  <script>
    const galleries = {
      row1: [],
      row2: ["images/row2-1.jpg", "images/row2-2.jpg"],
      row3: ["images/row3-1.jpg", "images/row3-2.jpg"],
      row4: ["images/row4-1.jpg", "images/row4-2.jpg", "images/row4-3.jpg"],
      row5: ["images/row5-1.jpg", "images/row5-2.jpg"]
    };

    const galleryPopup = document.getElementById('galleryPopup');
    const mainImage = document.getElementById('mainImage');
    let currentGallery = [];
    let currentIndex = 0;
    let slideshowInterval = null;

    document.querySelectorAll('.gallery-thumbnail').forEach(img => {
      img.addEventListener('click', () => {
        const galleryName = img.dataset.gallery;
        currentGallery = galleries[galleryName];
        currentIndex = 0;
        showImage();
        galleryPopup.style.display = 'flex';
        document.body.style.overflow = 'hidden';

        // Start slideshow
        slideshowInterval = setInterval(() => {
          nextImage();
        }, 4000);
      });
    });

    function showImage() {
      mainImage.src = currentGallery[currentIndex];
    }

    function nextImage() {
      currentIndex = (currentIndex + 1) % currentGallery.length;
      showImage();
    }

    function previousImage() {
      currentIndex = (currentIndex - 1 + currentGallery.length) % currentGallery.length;
      showImage();
    }

    function closeGallery() {
      galleryPopup.style.display = 'none';
      document.body.style.overflow = '';
      clearInterval(slideshowInterval); // stop slideshow
    }

    document.addEventListener('keydown', e => {
      if (galleryPopup.style.display === 'flex') {
        if (e.key === 'Escape') closeGallery();
        if (e.key === 'ArrowRight') nextImage();
        if (e.key === 'ArrowLeft') previousImage();
      }
    });
  </script>

</body>

</html>