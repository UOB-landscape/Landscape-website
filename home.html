<!DOCTYPE html>
<html lang="en" data-theme="default">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UoB Landscape</title>

  <script>
    // Get saved theme from localStorage
    const savedTheme = localStorage.getItem('theme');

    if (savedTheme) {
      // Set theme attribute before CSS is applied
      document.documentElement.setAttribute('data-theme', savedTheme);
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">

  <style>
    .stats-mini-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      max-width: 600px;
      justify-self: stretch;
    }

    .stat-mini-card {
      background: linear-gradient(135deg, #f8faf9 0%, #f0f4f1 100%);
      padding: 30px 65px;
      border-radius: 12px;
      text-align: center;
      align-items: center;
      justify-items: center;
      transition: all 0.3s ease;
      border: 2px solid rgba(44, 95, 45, 0.08);
      position: relative;
      overflow: hidden;
    }

    .stat-mini-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .stat-mini-card:hover::before {
      transform: scaleX(1);
    }

    .stat-mini-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(44, 95, 45, 0.15);
    }

    .stat-mini-number {
      font-size: 2.3rem;
      font-weight: 800;
      color: #8d6e3a;
      margin-bottom: 6px;
      line-height: 1;
      font-family: 'Playfair Display', serif;
    }

    .stat-mini-label {
      font-size: 0.85rem;
      font-weight: 600;
      color: #5a6c57;
      letter-spacing: 0.3px;
    }

    /* Enhanced Sustainability Section */
    .sustainability-section {
      background-image: url('https://uobhomesiteprod.s3.me-south-1.amazonaws.com/site-prod/uploads/2020/12/Banner-uob-sdg.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: scroll;
      padding: 0;
      position: relative;
      margin-top: 80px;
      min-height: 600px;
      display: flex;
      align-items: center;
    }

    .sustainability-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(212, 218, 212, 0.25) 0%, rgba(26, 71, 42, 0.9) 100%);
    }

    .sustainability-overlay {
      position: relative;
      z-index: 1;
      width: 100%;
      padding: 80px 40px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .sustainability-header {
      display: flex;
      align-items: center;
      gap: 40px;
      margin-bottom: 60px;
      max-width: 1100px;
      margin-left: auto;
      margin-right: auto;
    }

    .sustainability-header-content {
      flex: 1;
      background: rgb(255 255 255 / 60%);
      border-left: 5px solid wheat;
      padding: 40px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .sustainability-title {
      font-size: 2.5rem;
      color: #1a472a;
      margin-bottom: 20px;
      font-weight: 800;
      font-family: 'Playfair Display', serif;
      letter-spacing: 0.5px;
      text-align: left;
    }

    .sustainability-subtitle {
      font-size: 1.1rem;
      color: #4a5568;
      line-height: 1.5;
      font-weight: 400;
      text-align: left;
      margin: 0;
    }

    .sdg-wheel {
      width: 335px;
      height: 300px;
      position: relative;
      flex-shrink: 0;
    }

    .sdg-wheel img {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.4));
    }

    .sdg-details {
      flex: 1;
      min-width: 300px;
    }

    .sdg-cards-horizontal {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 20px;
    }

    .sdg-card-compact {
      background: rgba(255, 255, 255, 0.95);
      padding: 25px 30px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      gap: 25px;
      transition: all 0.3s ease;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      border-left: 5px solid transparent;
      backdrop-filter: blur(10px);
    }

    .sdg-card-compact:hover {
      transform: translateX(10px);
      box-shadow: 0 10px 35px rgba(0, 0, 0, 0.25);
    }

    .sdg-card-compact:nth-child(1) {
      border-left-color: #4C9F38;
    }

    .sdg-card-compact:nth-child(1):hover {
      background: rgba(76, 159, 56, 0.1);
    }

    .sdg-card-compact:nth-child(2) {
      border-left-color: #26BDE2;
    }

    .sdg-card-compact:nth-child(2):hover {
      background: rgba(38, 189, 226, 0.1);
    }

    .sdg-card-compact:nth-child(3) {
      border-left-color: #FD9D24;
    }

    .sdg-card-compact:nth-child(3):hover {
      background: rgba(253, 157, 36, 0.1);
    }

    .sdg-card-compact:nth-child(4) {
      border-left-color: #3F7E44;
    }

    .sdg-card-compact:nth-child(4):hover {
      background: rgba(63, 126, 68, 0.1);
    }

    .sdg-card-compact:nth-child(5) {
      border-left-color: #56C02B;
    }

    .sdg-card-compact:nth-child(5):hover {
      background: rgba(86, 192, 43, 0.1);
    }

    .sdg-icon-compact {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease;
    }

    .sdg-card-compact:hover .sdg-icon-compact {
      transform: scale(1.1) rotate(-5deg);
    }

    .sdg-number-compact {
      font-size: 1.8rem;
      font-weight: 800;
      color: white;
      font-family: 'Playfair Display', serif;
    }

    .sdg-content-compact {
      flex: 1;
    }

    .sdg-title-compact {
      font-size: 1.1rem;
      color: #2c5f2d;
      margin-bottom: 8px;
      font-weight: 700;
    }

    .sdg-description-compact {
      font-size: 0.9rem;
      color: #555;
      line-height: 1.5;
      margin: 0;
    }

    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .sdg-showcase {
        gap: 40px;
      }

      .sdg-wheel {
        width: 240px;
        height: 240px;
      }

      .sustainability-header-content {
        padding: 30px;
      }

      .sustainability-title {
        font-size: 2rem;
      }

      .sustainability-subtitle {
        font-size: 1rem;
      }
    }

    @media (max-width: 768px) {
      .stats-mini-grid {
        gap: 15px;
      }

      .stat-mini-number {
        font-size: 2.3rem;
      }

      .stat-mini-card {
        padding: 25px 20px;
      }

      .sustainability-section {
        padding: 0;
        margin-top: 60px;
      }

      .sustainability-overlay {
        padding: 60px 20px;
      }

      .sustainability-header {
        flex-direction: column;
        margin-bottom: 40px;
        gap: 30px;
      }

      .sustainability-header-content {
        padding: 30px 25px;
      }

      .sustainability-title {
        font-size: 1.8rem;
      }

      .sustainability-subtitle {
        font-size: 0.95rem;
      }

      .sdg-showcase {
        flex-direction: column;
        gap: 40px;
      }

      .sdg-wheel {
        width: 200px;
        height: 200px;
      }

      .sdg-card-compact {
        padding: 20px;
        gap: 15px;
      }

      .sdg-icon-compact {
        width: 50px;
        height: 50px;
      }

      .sdg-number-compact {
        font-size: 1.5rem;
      }

      .sdg-title-compact {
        font-size: 1rem;
      }

      .sdg-description-compact {
        font-size: 0.85rem;
      }
    }

    @media (max-width: 480px) {
      .sustainability-title {
        font-size: 1.5rem;
      }

      .sustainability-subtitle {
        font-size: 0.9rem;
      }

      .sustainability-header-content {
        padding: 25px 20px;
      }

      .sdg-wheel {
        width: 180px;
        height: 180px;
      }

      .sdg-card-compact {
        flex-direction: column;
        text-align: center;
      }

      .sdg-card-compact:hover {
        transform: translateY(-5px);
      }
    }
  </style>
</head>

<body style="padding: 0;">
  <nav class="navbar">
    <div class="nav-left">
      <div class="logo-space" title="Logo">
        <img src="UOB-new-logo.png" alt="University of Bahrain" />
      </div>
      <button class="hamburger" id="hamburger">&#9776;</button>
    </div>

    <div class="nav-center">
      <ul id="mobile-menu">
        <li><a href="home.html" class="active">HOME</a></li>
        <li><a href="ourPlants.html">OUR PLANTS</a></li>
        <li><a href="projects.html">PROJECTS</a></li>
        <li><a href="locations.html">LOCATIONS</a></li>
        <li><a href="statistics.html">STATISTICS</a></li>
        <li><a href="about.html">ABOUT</a></li>

        <li class="mobile-controls">
          <div class="dropdown">
            <button class="theme-btn" id="mobile-theme-btn">ðŸŽ¨</button>
            <div class="theme-picker" id="mobile-theme-picker">
              <div class="theme-option" data-theme="default"></div>
              <div class="theme-option" data-theme="dark"></div>
              <div class="theme-option" data-theme="solar"></div>
              <div class="theme-option" data-theme="highcontrast"></div>
              <div class="theme-option" data-theme="green"></div>
            </div>
          </div>
          <button class="arabic-btn" onclick="translate()">Ø¹Ø±Ø¨ÙŠ</button>
        </li>
      </ul>
    </div>

    <div class="nav-right">
      <div class="controls">
        <button class="arabic-btn" onclick="translate()">Ø¹Ø±Ø¨ÙŠ</button>
        <div class="dropdown">
          <button class="theme-btn" id="theme-btn">ðŸŽ¨</button>
          <div class="theme-picker" id="theme-picker">
            <div class="theme-option" data-theme="default"></div>
            <div class="theme-option" data-theme="dark"></div>
            <div class="theme-option" data-theme="solar"></div>
            <div class="theme-option" data-theme="highcontrast"></div>
            <div class="theme-option" data-theme="green"></div>
          </div>
        </div>
        <input type="search" placeholder="Searchâ€¦" />
      </div>
    </div>
  </nav>

  <header id="hero">
    <video autoplay muted loop playsinline id="bg-video">
      <source src="HomePage video.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <div class="overlay-square">
      <div class="overlay-label">
        University of Bahrain<br>Landscapes
      </div>
    </div>
  </header>

  <main class="landscape-info">
    <div class="container">
      <div class="info-grid">
        <div class="text-content">
          <h1>Welcome to UoB Landscape</h1>
          <p>This website showcases the diverse flora across our campus, providing detailed
            information about each plant, its location, and its unique characteristics. It was
            created collaboratively by IT students along with landscaping and biology students,
            combining technology, science, and design to make exploring our university's green
            spaces informative and engaging.<br> <br>
            Whether you are a student, researcher, or visitor, you can learn about the plants
            that contribute to the beauty and sustainability of our campus.
          </p>

          <div class="stats-mini-grid">
            <div class="stat-mini-card">
              <div class="stat-mini-number">200+</div>
              <div class="stat-mini-label">Plant Species</div>
            </div>

            <div class="stat-mini-card">
              <div class="stat-mini-number">50+</div>
              <div class="stat-mini-label">Locations</div>
            </div>

            <div class="stat-mini-card">
              <div class="stat-mini-number">80K+</div>
              <div class="stat-mini-label">Square Meters</div>
            </div>

            <div class="stat-mini-card">
              <div class="stat-mini-number">15+</div>
              <div class="stat-mini-label">Projects</div>
            </div>
          </div>
        </div>

        <div class="home-info-image">
          <img src="behind S6-2.JPG" alt="UoB Landscape" />
        </div>
      </div>
    </div>
  </main>

  <div style="padding: 10px;"></div>

  <div class="carousel-container">
    <h2 style="text-align:center; margin-top: 20px; margin-bottom: 90px;">Explore Our Landscape Locations</h2>
    <div class="carousel-wrapper">
      <div class="carousel-track">
        <!-- Image Set 1 -->
        <div class="carousel-item">
          <a href="CarPark.html">
            <img src="Car park.jpg" alt="Car park"></a>
          <div class="carousel-title">Car Parks</div>
        </div>

        <div class="carousel-item">
          <a href="Buildings.html">
            <img src="Buildings 2.png" alt="Building"></a>
          <div class="carousel-title">Buildings</div>
        </div>

        <div class="carousel-item">
          <a href="Gates.html">
            <img src="gate.jpg" alt="Gate"></a>
          <div class="carousel-title">Gates</div>
        </div>

        <div class="carousel-item">
          <a href="Roadside.html">
            <img src="Roadside.jpeg" alt="Roadside"></a>
          <div class="carousel-title">Roadsides</div>
        </div>

        <div class="carousel-item">
          <a href="Infrastructure.html">
            <img src="Infrastructure2.png" alt="Infrastructure"></a>
          <div class="carousel-title">Infrastructures</div>
        </div>

        <div class="carousel-item">
          <a href="Facilities.html">
            <img src="Facilities.jpeg" alt="Facilities"></a>
          <div class="carousel-title">Facilities</div>
        </div>


        <!-- Image Set 2 (Duplicate for seamless loop) -->
        <div class="carousel-item">
          <a href="CarPark.html">
            <img src="car park.jpg" alt="Car park"></a>
          <div class="carousel-title">Car Parks</div>
        </div>

        <div class="carousel-item">
          <a href="Buildings.html">
            <img src="Buildings 2.png" alt="Building"></a>
          <div class="carousel-title">Buildings</div>
        </div>

        <div class="carousel-item">
          <a href="Gates.html">
            <img src="gate.jpg" alt="Gate"></a>
          <div class="carousel-title">Gates</div>
        </div>

        <div class="carousel-item">
          <a href="Roadside.html">
            <img src="Roadside.jpeg" alt="Roadside"></a>
          <div class="carousel-title">Roadsides</div>
        </div>

        <div class="carousel-item">
          <a href="Infrastructure.html">
            <img src="Infrastructure2.png" alt="Infrastructure"></a>
          <div class="carousel-title">Infrastructures</div>
        </div>

        <div class="carousel-item">
          <a href="Facilities.html">
            <img src="Facilities.jpeg" alt="Facilities"></a>
          <div class="carousel-title">Facilities</div>
        </div>

      </div>
    </div>
  </div>

  <div style="padding: 10px;"></div>

  <!-- Enhanced Sustainability Section -->
  <section class="sustainability-section">
    <div class="sustainability-overlay">
      <div class="sustainability-header">
        <div class="sustainability-header-content">
          <h2 class="sustainability-title">Sustainability</h2>
          <p class="sustainability-subtitle">University of Bahrain proudly aligns with the United Nations Sustainable
            Development Goals, fostering a greener, healthier, and more sustainable campus environment for future
            generations.</p>
        </div>

        <div class="sdg-wheel">
          <img src="Sustainability.png" alt="UN Sustainable Development Goals">
        </div>
      </div>

      <div class="sdg-showcase">
        <!-- SDG Details -->
        <div class="sdg-details">
          <div class="sdg-cards-horizontal">
            <!-- SDG 3 -->
            <div class="sdg-card-compact">
              <div class="sdg-icon-compact" style="background-color: #4C9F38;">
                <span class="sdg-number-compact">3</span>
              </div>
              <div class="sdg-content-compact">
                <h3 class="sdg-title-compact">Good Health and Well-being</h3>
                <p class="sdg-description-compact">Promoting physical and mental wellness through our green spaces and
                  comprehensive campus healthcare initiatives.</p>
              </div>
            </div>

            <!-- SDG 6 -->
            <div class="sdg-card-compact">
              <div class="sdg-icon-compact" style="background-color: #26BDE2;">
                <span class="sdg-number-compact">6</span>
              </div>
              <div class="sdg-content-compact">
                <h3 class="sdg-title-compact">Clean Water and Sanitation</h3>
                <p class="sdg-description-compact">Implementing efficient irrigation systems and water conservation
                  practices across our campus landscapes.</p>
              </div>
            </div>

            <!-- SDG 11 -->
            <div class="sdg-card-compact">
              <div class="sdg-icon-compact" style="background-color: #FD9D24;">
                <span class="sdg-number-compact">11</span>
              </div>
              <div class="sdg-content-compact">
                <h3 class="sdg-title-compact">Sustainable Cities and Communities</h3>
                <p class="sdg-description-compact">Creating sustainable infrastructure and vibrant green spaces that
                  serve our entire university community.</p>
              </div>
            </div>

            <!-- SDG 13 -->
            <div class="sdg-card-compact">
              <div class="sdg-icon-compact" style="background-color: #3F7E44;">
                <span class="sdg-number-compact">13</span>
              </div>
              <div class="sdg-content-compact">
                <h3 class="sdg-title-compact">Climate Action</h3>
                <p class="sdg-description-compact">Taking decisive action against climate change through carbon
                  reduction and sustainable landscaping practices.</p>
              </div>
            </div>

            <!-- SDG 15 -->
            <div class="sdg-card-compact">
              <div class="sdg-icon-compact" style="background-color: #56C02B;">
                <span class="sdg-number-compact">15</span>
              </div>
              <div class="sdg-content-compact">
                <h3 class="sdg-title-compact">Life on Land</h3>
                <p class="sdg-description-compact">Protecting biodiversity and promoting ecological balance through our
                  diverse plant collection and natural ecosystems.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="map-header">
    <h2>Interactive Campus Map</h2>
    <p>Navigate through our campus facilities. Click on any building icon to explore its location and details.</p>
    <div class="map-header-divider"></div>
  </div>

  <div class="map-container">
    <div class="map-wrapper" id="zoom-area">
      <img src="UOB-MAP.jpg" alt="UoB Plants Map" class="map-img">
    </div>
    <div class="map-controls">
      <button id="zoomIn">+</button>
      <button id="zoomOut">âˆ’</button>
      <button id="reset">Reset</button>
    </div>
  </div>

  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <h4>About</h4>
        <p>UoB Landscape documents and showcases the diverse flora across our campus, providing detailed information
          about plants, their locations, and ecological significance.</p>
      </div>

      <div class="footer-column">
        <h4>Navigation</h4>
        <ul>
          <li><a href="home.html">Home</a></li>
          <li><a href="ourPlants.html">Our Plants</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="locations.html">Locations</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>External Links</h4>
        <ul>
          <li><a href="https://www.uob.edu.bh/" target="_blank" rel="noopener noreferrer">University of Bahrain</a>
          </li>
          <li><a href="https://www.mun.gov.bh/newportal/ar" target="_blank" rel="noopener noreferrer">Municipality of
              Bahrain</a></li>
          <li><a href="https://www.bahrain.bh/wps/portal/en/BNP/ExploreBahrain/SustainableDevelopment/" target="_blank"
              rel="noopener noreferrer">Sustainable Development</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Contact</h4>

        <div class="social-links">
          <a target="_blank" rel="noopener noreferrer">
            <i class="fa-solid fa-envelope"></i>
          </a>
          <span>landscape@uob.edu.bh</span>
        </div>

        <div class="social-links">
          <a target="_blank" rel="noopener noreferrer">
            <i class="fa-solid fa-phone"></i>
          </a>
          <span>+973 1743 8181</span>
        </div>

        <div class="social-links">
          <a href="https://www.youtube.com/channel/UCM5UfujAklBwqFCAYDWXMMA" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-youtube"></i>
          </a>
          <span>Follow us on YouTube</span>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 University of Bahrain. All rights reserved.</p>
    </div>
  </footer>


  <!-- Panzoom Library -->
  <script src="https://unpkg.com/@panzoom/panzoom/dist/panzoom.min.js"></script>

  <script>

    const buildings = [
      //Buildings
      { name: "S1A College of Arts", x: 0.579, y: 0.55, url: "location.html?id=S1A" },
      { name: "S1B College of Business Administration", x: 0.643, y: 0.504, url: "location.html?id=S1B" },
      { name: "S2 Administration Building", x: 0.584, y: 0.444, url: "location.html?id=S2" },
      { name: "S3 Central Library", x: 0.537, y: 0.478, url: "location.html?id=S3" },
      { name: "S4 Deanship of Students' Affairs", x: 0.471, y: 0.524, url: "location.html?id=S4" },
      { name: "S17 Dept. of Architecture & Interior Design", x: 0.712, y: 0.509, url: "location.html?id=S17" },
      { name: "S18 Multi-service base", x: 0.795, y: 0.556, url: "location.html?id=S18" },
      { name: "S20 English Language Center ", x: 0.635, y: 0.742, url: "location.html?id=S20" },
      { name: "S20A Department of Physical Education", x: 0.659, y: 0.784, url: "location.html?id=S20A" },
      { name: "S20B College of Applied Studies", x: 0.555, y: 0.707, url: "location.html?id=S20B" },
      { name: "S20C College of Applied Studies", x: 0.552, y: 0.764, url: "location.html?id=S20C" },
      { name: "S21 University Health Center", x: 0.495, y: 0.740, url: "location.html?id=S21" },
      { name: "S22 Bahrain Teachers College", x: 0.574, y: 0.615, url: "location.html?id=S22" },
      { name: "S22A Guidance and Counseling Department", x: 0.546, y: 0.590, url: "location.html?id=S22A" },
      { name: "S23 Bookshop", x: 0.543, y: 0.533, url: "location.html?id=S23" },
      { name: "S24 Buildings and Maintenance Department", x: 0.666, y: 0.439, url: "location.html?id=S24" },
      { name: "S30 College of Law", x: 0.707, y: 0.436, url: "location.html?id=S30" },
      { name: "S31 Financial Affairs", x: 0.741, y: 0.453, url: "location.html?id=S31" },
      { name: "S32 Deanship of Graduate Studies and Scientific Research", x: 0.678, y: 0.357, url: "location.html?id=S32" },
      { name: "S33 College of Science", x: 0.574, y: 0.347, url: "location.html?id=S33" },
      { name: "S34 College of Engineering", x: 0.503, y: 0.391, url: "location.html?id=S34" },
      { name: "S35 College of Information Technology", x: 0.449, y: 0.405, url: "location.html?id=S35" },
      { name: "S40 Conference Center", x: 0.432, y: 0.352, url: "location.html?id=S40" },
      { name: "S40A University Theater", x: 0.361, y: 0.398, url: "location.html?id=S40A" },
      { name: "S41 Staff Club", x: 0.303, y: 0.440, url: "location.html?id=S41" },
      { name: "S46 Security and Safety Department", x: 0.404, y: 0.667, url: "location.html?id=S46" },
      { name: "S47 Indoor Sports Hall", x: 0.359, y: 0.619, url: "location.html?id=S47" },
      { name: "S50 Medical Simulation Center", x: 0.785, y: 0.295, url: "location.html?id=S50" },
      { name: "S51 Pharmacy Unit", x: 0.831, y: 0.299, url: "location.html?id=S51" },
      { name: "S51B Marine Science Research Center", x: 0.743, y: 0.220, url: "location.html?id=S51B" },
    ];

    function addIcons() {
      const mapWrapper = document.getElementById('zoom-area');
      buildings.forEach(b => {
        const a = document.createElement("a");
        a.href = b.url;

        const img = document.createElement("img");
        img.src = "Building icon.png";
        img.alt = b.name;
        img.title = b.name;
        img.classList.add("map-icon");

        img.style.left = (b.x * 100) + "%";
        img.style.top = (b.y * 100) + "%";

        // Apply custom width/height if specified
        if (b.width) img.style.width = b.width + "px";
        if (b.height) img.style.height = b.height + "px";

        a.appendChild(img);
        mapWrapper.appendChild(a);
      });
    }

    window.addEventListener("load", addIcons);

    // === Panzoom for zoom & pan ===
    const panzoom = Panzoom(document.getElementById('zoom-area'), {
      maxScale: 5,
      minScale: 1,
      contain: 'outside'
    });

    // Mouse wheel zoom
    document.getElementById('zoom-area').parentElement.addEventListener('wheel', panzoom.zoomWithWheel);

    // Buttons
    document.getElementById('zoomIn').addEventListener('click', () => panzoom.zoomIn());
    document.getElementById('zoomOut').addEventListener('click', () => panzoom.zoomOut());
    document.getElementById('reset').addEventListener('click', () => panzoom.reset());


    document.addEventListener('DOMContentLoaded', () => {
      const navLinks = document.querySelectorAll('nav a');
      const currentPage = window.location.pathname.split('/').pop() || 'home.html';

      // List of pages considered part of the "Locations" section
      const locationPages = [
        'CarPark.html',
        'Buildings.html',
        'Gates.html',
        'Roadside.html',
        'Infrastructure.html',
        'Facilities.html',
        'locations.html'
      ];

      navLinks.forEach(link => {
        const href = link.getAttribute('href');

        if (locationPages.includes(currentPage) && href === 'locations.html') {
          // Highlight Locations nav link if current page is any location page
          link.classList.add('active');
        } else if (href === currentPage) {
          // Highlight the matching nav link for other pages
          link.classList.add('active');
        } else {
          link.classList.remove('active');
        }
      });

      // Optional: maintain active state on click (if navigation doesn't reload)
      navLinks.forEach(link => {
        link.addEventListener('click', function (e) {
          navLinks.forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        });
      });
    });

    // Theme dropdown behavior for desktop
    const btn = document.getElementById('theme-btn');
    const picker = document.getElementById('theme-picker');

    if (btn && picker) {
      btn.addEventListener('click', e => {
        e.stopPropagation();
        picker.classList.toggle('active');
      });

      document.addEventListener('click', e => {
        if (!e.target.closest('.dropdown')) {
          picker.classList.remove('active');
        }
      });

      picker.addEventListener('click', e => {
        const t = e.target.dataset.theme;
        if (t) {
          document.documentElement.setAttribute('data-theme', t);
          localStorage.setItem('theme', t);
          picker.classList.remove('active');
          updateActiveTheme(t);
        }
      });

      // Close picker on scroll
      let lastScrollY = window.scrollY;
      window.addEventListener('scroll', () => {
        if (window.scrollY > lastScrollY) {
          picker.classList.remove('active');
        }
        lastScrollY = window.scrollY;
      });

    }

    // Mobile theme picker functionality
    const mobileThemeBtn = document.getElementById('mobile-theme-btn');
    const mobileThemePicker = document.getElementById('mobile-theme-picker');

    if (mobileThemeBtn && mobileThemePicker) {
      // Toggle mobile theme picker
      mobileThemeBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        mobileThemePicker.classList.toggle('active');
      });

      // Close mobile theme picker when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.mobile-controls .dropdown')) {
          mobileThemePicker.classList.remove('active');
        }
      });

      // Handle mobile theme selection
      mobileThemePicker.addEventListener('click', (e) => {
        const theme = e.target.dataset.theme;
        if (theme) {
          document.documentElement.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
          mobileThemePicker.classList.remove('active');
          updateActiveTheme(theme);
        }
      });
    }

    // Update active state for all theme options (both desktop and mobile)
    function updateActiveTheme(theme) {
      document.querySelectorAll('.theme-option').forEach(opt => {
        opt.classList.toggle('active', opt.dataset.theme === theme);
      });
    }

    // Apply saved theme on load
    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('theme') || 'default';
      document.documentElement.setAttribute('data-theme', saved);
      updateActiveTheme(saved);
    });

    // Placeholder translation logic
    function translate() {
      alert('Arabic translation logic goes here.');
    }

    // Hamburger menu functionality
    document.addEventListener('DOMContentLoaded', () => {
      const hamburger = document.getElementById('hamburger');
      const mobileMenu = document.getElementById('mobile-menu');

      if (hamburger && mobileMenu) {
        hamburger.addEventListener('click', () => {
          mobileMenu.classList.toggle('active');
        });
      }

      // Close menu on scroll
      window.addEventListener('scroll', () => {
        if (mobileMenu) {
          mobileMenu.classList.remove('active');
        }
        if (picker) picker.classList.remove('active');
        if (mobileThemePicker) mobileThemePicker.classList.remove('active');
      });

      // Close menu when clicking links
      document.querySelectorAll('#mobile-menu > li > a').forEach(link => {
        link.addEventListener('click', () => {
          if (mobileMenu) {
            mobileMenu.classList.remove('active');
          }
        });
      });
    });
  </script>
</body>

</html>