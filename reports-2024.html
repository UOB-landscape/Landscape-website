<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Landscape Projects Report - 2024</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
        html{
            padding: 0 !important;
        }
        
        body {
            font-family: "Tahoma", Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            background: #f0eeee;
        }

        h2 {
            text-align: center;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 40px;
            background: #fff;
        }

        th,
        td {
            border: 1px solid #000;
            padding: 8px;
            text-align: center;
            vertical-align: middle;
        }

        th {
            background: var(--accent-light);
        }

        .gallery-thumbnail {
            cursor: pointer;
            border-radius: 4px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            object-fit: cover;
        }

        .gallery-thumbnail:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        /* thumbnail sizing kept consistent */
        .thumb-cell img {
            width: 100px;
            height: 100px;
            display: block;
            object-fit: cover;
        }
    </style>
    <script>
        // Listen for theme messages from parent (optional)
        window.addEventListener('message', (event) => {
            if (event.data && event.data.type === 'theme-change') {
                document.documentElement.setAttribute('data-theme', event.data.theme);
                localStorage.setItem('theme', event.data.theme);
            }
        });

        // Request parent theme if embedded
        window.addEventListener('DOMContentLoaded', () => {
            try { window.parent.postMessage({ type: 'request-theme' }, '*'); } catch (e) { /* ignore */ }
        });
    </script>
</head>

<body>

    <div class="year-container" id="year-2024">
        <table>
            <thead>
                <tr data-year="2024">
                    <th>No.</th>
                    <th colspan="2">Images</th>
                    <th>Location</th>
                    <th>Action</th>
                    <th>Total Area</th>
                    <th>Previous Condition</th>
                    <th>Current Condition</th>
                    <th>Green Area</th>
                    <th>No. of Ornamental Trees</th>
                    <th>Additional Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr data-year="2024">
                    <td>1</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="https://i.postimg.cc/L5Sh4dL2/fence6.jpg" class="gallery-thumbnail" data-gallery="row1"
                            width="100" height="100" alt="Inner Fence thumbnail">
                    </td>
                    <td>Inner Fence</td>
                    <td>Planting ornamental trees</td>
                    <td>568 m²</td>
                    <td>Previously: degraded or uncultivated landscape</td>
                    <td>Re-landscaped with sustainable ornamental species enhancing ecological and visual value</td>
                    <td>568 m²</td>
                    <td>142</td>
                    <td>Landscape upgraded with aesthetic elements contributing to campus identity</td>
                </tr>

                <tr data-year="2024">
                    <td>2</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="https://i.postimg.cc/qqmt1bh3/main-gate-entrance-2.jpg" class="gallery-thumbnail" data-gallery="row2"
                            width="100" height="100" alt="Main Gate thumbnail">
                    </td>
                    <td>Main Gate</td>
                    <td>Landscape redevelopment of entrance and exit zones</td>
                    <td>—</td>
                    <td>Previously: random and unstructured vegetation</td>
                    <td>Cleared and re-landscaped with structured planting design</td>
                    <td>—</td>
                    <td>322</td>
                    <td>Improved gateway landscape, creating a more formal and organized entrance sequence</td>
                </tr>

                <tr data-year="2024">
                    <td>3</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row3" width="100" height="100"
                            alt="Area Behind the Mosque thumbnail">
                    </td>
                    <td>Area Behind the Mosque</td>
                    <td>Landscape planting with ornamental and fruit-bearing species</td>
                    <td>4,505 m²</td>
                    <td>Previously: random and unstructured vegetation</td>
                    <td>Re-landscaped with sustainable ornamental and fruit-bearing trees, including native species
                        (almond, cactus, jujube, mulberry, lemon)</td>
                    <td>500 m²</td>
                    <td>409</td>
                    <td>Created a multifunctional green space that provides shade, biodiversity enrichment, and enhanced
                        visual comfort</td>
                </tr>

                <tr data-year="2024">
                    <td>4</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row4" width="100" height="100"
                            alt="Internal Ring Road thumbnail">
                    </td>
                    <td>Internal Ring Road</td>
                    <td>Removal of invasive and degraded trees; sustainable replanting</td>
                    <td>—</td>
                    <td>Previously: degraded and environmentally harmful trees</td>
                    <td>Re-landscaped with resilient ornamental trees to improve the streetscape and strengthen
                        ecological functions</td>
                    <td>—</td>
                    <td>897</td>
                    <td>Enhanced internal circulation landscape, promoting biodiversity and environmental sustainability
                    </td>
                </tr>

                <tr data-year="2024">
                    <td>5</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row5" width="100" height="100"
                            alt="Academic Villas Area thumbnail">
                    </td>
                    <td>Academic Villas Area</td>
                    <td>Landscape preparation opposite the faculty villas</td>
                    <td>4,935 m²</td>
                    <td>Previously: harmful weeds and random trees</td>
                    <td>Rehabilitated with ornamental and fruit-bearing species</td>
                    <td>360 m²</td>
                    <td>370</td>
                    <td>Enhanced residential landscape with sustainable planting, strengthening visual harmony</td>
                </tr>

                <tr data-year="2024">
                    <td>6</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row6" width="100" height="100"
                            alt="Basement Entrance thumbnail">
                    </td>
                    <td>Basement Entrance – Administration Building</td>
                    <td>Landscape planting and area development</td>
                    <td>1,349 m²</td>
                    <td>Previously: unused land</td>
                    <td>Re-landscaped and improved the visual corridor</td>
                    <td>1,349 m²</td>
                    <td>41</td>
                    <td>Strengthened green identity and improved entry aesthetics</td>
                </tr>

                <tr data-year="2024">
                    <td>7</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row7" width="100" height="100"
                            alt="Staff Affairs Building Area thumbnail">
                    </td>
                    <td>Staff Affairs Building Area</td>
                    <td>Removal of unsuitable random trees</td>
                    <td>480 m²</td>
                    <td>Previously: disorganized and random vegetation</td>
                    <td>Re-landscaped with ornamental planting in structured design</td>
                    <td>480 m²</td>
                    <td>14</td>
                    <td>Enhanced the immediate workplace landscape to meet aesthetic requirements</td>
                </tr>

                <tr data-year="2024">
                    <td>8</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row8" width="100" height="100"
                            alt="Courtyard opposite S17 thumbnail">
                    </td>
                    <td>Courtyard opposite S17 &amp; E-Learning Building</td>
                    <td>Removal of unsuitable random trees</td>
                    <td>2,267 m²</td>
                    <td>Previously: unstructured vegetation and neglected land</td>
                    <td>Re-landscaped with sustainable ornamental species</td>
                    <td>2,267 m²</td>
                    <td>198</td>
                    <td>Improved the external landscape of surrounding buildings</td>
                </tr>

                <tr data-year="2024">
                    <td>9</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row9" width="100" height="100"
                            alt="Student Parking – College of Law thumbnail">
                    </td>
                    <td>Student Parking – College of Law</td>
                    <td>Tree planting for parking area</td>
                    <td>4,000 m²</td>
                    <td>Previously: unstructured vegetation and neglected land</td>
                    <td>Re-landscaped with ornamental trees improving parking landscape</td>
                    <td>—</td>
                    <td>125</td>
                    <td>Enhanced parking environment with additional greenery</td>
                </tr>

                <tr data-year="2024">
                    <td>10</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row10" width="100" height="100"
                            alt="External Courtyard – College of Law thumbnail">
                    </td>
                    <td>External Courtyard – College of Law</td>
                    <td>Removal of unsuitable trees and replanting</td>
                    <td>4,000 m²</td>
                    <td>Previously: unsuitable and deteriorated trees</td>
                    <td>Re-landscaped with sustainable planting and green surfaces</td>
                    <td>3,030 m²</td>
                    <td>55</td>
                    <td>Created a sustainable landscape enhancing the college’s external environment</td>
                </tr>

                <tr data-year="2024">
                    <td>11</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row11" width="100" height="100"
                            alt="Courtyard behind Admissions & Registration thumbnail">
                    </td>
                    <td>Courtyard behind Admissions & Registration</td>
                    <td>Removal of unsuitable trees</td>
                    <td>980 m²</td>
                    <td>Previously: unsuitable and damaged trees</td>
                    <td>Area fully rehabilitated with green coverage expansion</td>
                    <td>980 m²</td>
                    <td>—</td>
                    <td>Improved surrounding campus landscape</td>
                </tr>

                <tr data-year="2024">
                    <td>12</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row12" width="100" height="100"
                            alt="Courtyard behind Student Affairs Deanship thumbnail">
                    </td>
                    <td>Courtyard behind Student Affairs Deanship</td>
                    <td>Removal of unsuitable trees; landscape rehabilitation</td>
                    <td>915 m²</td>
                    <td>Previously: harmful and unsuitable trees</td>
                    <td>Re-landscaped with 580 m² of green surfaces and ornamental planting</td>
                    <td>580 m²</td>
                    <td>57</td>
                    <td>Created a green visual buffer enhancing the courtyard landscape</td>
                </tr>

                <tr data-year="2024">
                    <td>13</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row13" width="100" height="100"
                            alt="Entrance – College of Business Administration thumbnail">
                    </td>
                    <td>Entrance – College of Business Administration</td>
                    <td>Landscape planting and rehabilitation</td>
                    <td>86 m²</td>
                    <td>Previously: unsuitable vegetation and degraded surfaces</td>
                    <td>Fully re-landscaped and coordinated with sustainable species</td>
                    <td>86 m²</td>
                    <td>46</td>
                    <td>Enhanced the business school’s entrance landscape identity</td>
                </tr>

                <tr data-year="2024">
                    <td>14</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row14" width="100" height="100"
                            alt="Entrance – College of Arts thumbnail">
                    </td>
                    <td>Entrance – College of Arts</td>
                    <td>Landscape planting and rehabilitation</td>
                    <td>86 m²</td>
                    <td>Previously: unsuitable vegetation</td>
                    <td>Fully re-landscaped with ornamental trees</td>
                    <td>86 m²</td>
                    <td>10</td>
                    <td>Provided a visually attractive green entrance for students and staff</td>
                </tr>

                <tr data-year="2024">
                    <td>15</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row15" width="100" height="100"
                            alt="Roman Amphitheater thumbnail">
                    </td>
                    <td>Roman Amphitheater</td>
                    <td>Removal of unsuitable vegetation; landscape rehabilitation</td>
                    <td>840 m²</td>
                    <td>Previously: degraded and uncultivated land</td>
                    <td>Fully re-landscaped and designed with ornamental species</td>
                    <td>840 m²</td>
                    <td>12</td>
                    <td>Enhanced the amphitheater’s setting into a more attractive gathering space</td>
                </tr>

                <tr data-year="2024">
                    <td>16</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row16" width="100" height="100"
                            alt="Western Gate Entrance thumbnail">
                    </td>
                    <td>Western Gate Entrance</td>
                    <td>Tree planting for entry landscape</td>
                    <td>1,800 m²</td>
                    <td>Previously: uncultivated land</td>
                    <td>Re-landscaped and planted with sustainable species</td>
                    <td>—</td>
                    <td>77</td>
                    <td>Enhanced entrance landscape aesthetics</td>
                </tr>

                <tr data-year="2024">
                    <td>17</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row17" width="100" height="100"
                            alt="Student Parking – Western Gate thumbnail">
                    </td>
                    <td>Student Parking – Western Gate</td>
                    <td>Tree planting for parking landscape</td>
                    <td>—</td>
                    <td>Previously: uncultivated land</td>
                    <td>Fully re-landscaped and planted</td>
                    <td>—</td>
                    <td>130</td>
                    <td>Improved parking landscape with green identity</td>
                </tr>

                <tr data-year="2024">
                    <td>18</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row18" width="100" height="100"
                            alt="Behind Restaurants Complex S51 thumbnail">
                    </td>
                    <td>Behind Restaurants Complex S51</td>
                    <td>Removal of unsuitable trees; rehabilitation of landscape area</td>
                    <td>3,800 m²</td>
                    <td>Previously: neglected land</td>
                    <td>Fully re-landscaped with sustainable planting and structured design</td>
                    <td>—</td>
                    <td>330</td>
                    <td>Developed a biodiverse landscape promoting ecological sustainability</td>
                </tr>

                <tr data-year="2024">
                    <td>19</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row19" width="100" height="100"
                            alt="Behind Khanji Hall thumbnail">
                    </td>
                    <td>Behind Khanji Hall</td>
                    <td>Removal of unsuitable trees; rehabilitation of landscape area</td>
                    <td>1,650 m²</td>
                    <td>Previously: neglected and degraded</td>
                    <td>Restored with appropriate planting improving green cover</td>
                    <td>—</td>
                    <td>307</td>
                    <td>Enhanced the hall’s surroundings with a sustainable landscape</td>
                </tr>

                <tr data-year="2024">
                    <td>20</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row20" width="100" height="100"
                            alt="Area behind the Track thumbnail">
                    </td>
                    <td>Area behind the Track</td>
                    <td>Removal of unsuitable trees; rehabilitation and planting</td>
                    <td>3,000 m²</td>
                    <td>Previously: neglected land</td>
                    <td>Re-landscaped with ornamental and fruit-bearing trees (almond, cactus, jujube, mulberry, lemon)
                    </td>
                    <td>—</td>
                    <td>130</td>
                    <td>Developed a multifunctional green landscape contributing to biodiversity</td>
                </tr>

                <tr data-year="2024">
                    <td>21</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row21" width="100" height="100"
                            alt="Student Parking – Eastern Gate thumbnail">
                    </td>
                    <td>Student Parking – Eastern Gate</td>
                    <td>Removal of unsuitable trees; rehabilitation and planting</td>
                    <td>2,416 m²</td>
                    <td>Previously: uncultivated land</td>
                    <td>Re-landscaped with sustainable ornamental species</td>
                    <td>2,416 m²</td>
                    <td>55</td>
                    <td>Improved parking landscape and provided comfortable green buffers</td>
                </tr>

                <tr data-year="2024">
                    <td>22</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row22" width="100" height="100"
                            alt="Hall S18 thumbnail">
                    </td>
                    <td>Hall S18</td>
                    <td>Landscape planting and rehabilitation</td>
                    <td>276 m²</td>
                    <td>Previously: unsuitable vegetation</td>
                    <td>Re-landscaped with sustainable ornamental species</td>
                    <td>276 m²</td>
                    <td>11</td>
                    <td>Enhanced the hall’s visual landscape with sustainable green elements</td>
                </tr>

                <tr data-year="2024">
                    <td>23</td>
                    <td colspan="2" class="thumb-cell">
                        <img src="" class="gallery-thumbnail" data-gallery="row23" width="100" height="100"
                            alt="Administration Building Surroundings thumbnail">
                    </td>
                    <td>Administration Building Surroundings</td>
                    <td>Landscape planting and area rehabilitation</td>
                    <td>1,625 m²</td>
                    <td>—</td>
                    <td>Re-landscaped with ornamental species</td>
                    <td>1,625 m²</td>
                    <td>237</td>
                    <td>Created a sustainable administrative landscape with strong green identity</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        /* Loads only first image for each table row from the API where Year === 2024 and Record Number matches the row number.
           Leaves all table content untouched. Clicking a thumbnail opens reportImages.html?year=2024&record=X
        */
        (function () {
            const API_ENDPOINT = 'http://localhost:3000/api/reportImages';
            const TARGET_YEAR = 2024;

            function getFirstImage(rec) {
                for (let i = 1; i <= 20; i++) {
                    const k = 'Image ' + i;
                    if (rec[k] && typeof rec[k] === 'string' && rec[k].trim()) return rec[k].trim();
                }
                return '';
            }

            async function initThumbnails() {
                let data;
                try {
                    const res = await fetch(API_ENDPOINT);
                    if (!res.ok) throw new Error('Network response not ok');
                    data = await res.json();
                } catch (e) {
                    console.error('Failed to fetch API', e);
                    return;
                }

                const map = {};
                if (Array.isArray(data)) {
                    data.forEach(rec => {
                        if (Number(rec.Year) === TARGET_YEAR && rec['Record Number'] != null) {
                            map[String(Number(rec['Record Number']))] = rec;
                        }
                    });
                }

                document.querySelectorAll('.gallery-thumbnail').forEach(img => {
                    const gallery = img.dataset.gallery; // expects data-gallery="rowX"
                    if (!gallery) return;
                    const m = gallery.match(/row(\d+)/i);
                    if (!m) return;
                    const recordNum = String(Number(m[1]));
                    const rec = map[recordNum];
                    const first = rec ? getFirstImage(rec) : '';

                    if (first) img.src = first; // replace only the image src

                    img.style.cursor = 'pointer';
                    // remove existing listeners defensively by cloning node
                    const newImg = img.cloneNode(true);
                    img.parentNode.replaceChild(newImg, img);

                    newImg.addEventListener('click', (ev) => {
                        ev.preventDefault();
                        const params = new URLSearchParams({ year: String(TARGET_YEAR), record: recordNum });
                        window.location.href = 'reportImages.html?' + params.toString();
                    });
                });
            }

            document.addEventListener('DOMContentLoaded', initThumbnails);
        })();
    </script>

</body>

</html>
